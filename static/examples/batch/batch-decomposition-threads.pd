#N canvas 47 54 1232 717 12;
#X msg 19 24 symbol ~/FluidCorpusManipulation/media/*.wav;
#X obj 18 445 soundfiler;
#X msg 18 409 read -resize \$1 src;
#X obj 18 478 t b;
#X obj 169 408 array define src;
#X msg 18 553 harmonic h_\$1 \, percussive p_\$1 \, bang;
#N canvas 465 522 985 506 dynamic_array_management 0;
#X obj 102 476 s pd-outputs;
#X obj 102 309 + 10;
#X obj 102 276 * 25;
#N canvas 1 26 268 243 counter 0;
#X obj 43 95 f 0;
#X obj 96 109 + 1;
#X obj 40 31 inlet;
#X obj 117 59 inlet;
#X obj 35 199 outlet;
#X text 166 58 reset;
#X text 84 31 increment;
#X obj 42 135 t f f;
#X connect 0 0 7 0;
#X connect 1 0 0 1;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 7 0 4 0;
#X connect 7 1 1 0;
#X restore 20 185 pd counter;
#X obj 102 340 list append, f 13;
#X msg 102 421 obj 20 \$1 array define h_\$2;
#X obj 102 379 t l l;
#X msg 309 421 obj 160 \$1 array define p_\$2;
#X msg 119 173 \; pd-outputs clear;
#X obj 87 144 t 0 b;
#X obj 20 219 t f f f, f 24;
#X obj 22 62 inlet;
#X obj 20 277 outlet;
#X text 64 61 increment and create arrays;
#X text 166 103 clear all arrays and reset counter to 0;
#X text 520 414 define two arrays in the outputs subpatch one for harmonic
and one for percussive;
#X text 199 290 figure out the positioning of the arrays in the subpatch
;
#X text 18 13 This sub patcher dynamically creates the destination/output
arrays for the fluid.bufhpss object.;
#X obj 87 104 r \$0-reset;
#X connect 1 0 4 0;
#X connect 2 0 1 0;
#X connect 3 0 10 0;
#X connect 4 0 6 0;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 6 1 7 0;
#X connect 7 0 0 0;
#X connect 9 0 3 1;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 10 1 2 0;
#X connect 10 2 4 1;
#X connect 11 0 3 0;
#X connect 18 0 9 0;
#X restore 18 516 pd dynamic_array_management;
#X msg 730 165 stop;
#X floatatom 786 164 5 0 0 0 - - - 0;
#X msg 786 231 set p_\$1 \, bang;
#X obj 730 320 output~;
#X obj 730 275 tabplay~;
#X msg 906 231 set h_\$1 \, bang;
#X floatatom 906 162 5 0 0 0 - - - 0;
#X symbolatom 814 418 53 0 0 0 - - - 0;
#X msg 814 371 set \$1;
#X text 282 552 set the harmonic and percussive outputs to the new
array;
#X text 286 596 retrieve the file name for the soundfile that was just
processed, f 66;
#X text 288 407 read the sound file into the array defined as src;
#X obj 15 657 cnv 15 520 40 empty cnv empty 20 12 0 14 #e7af9c #404040
0;
#N canvas 846 929 450 300 outputs 0;
#X obj 160 10 array define p_0;
#X obj 20 10 array define h_0;
#X obj 160 35 array define p_1;
#X obj 20 35 array define h_1;
#X obj 160 60 array define p_2;
#X obj 20 60 array define h_2;
#X obj 160 85 array define p_3;
#X obj 20 85 array define h_3;
#X obj 160 110 array define p_4;
#X obj 20 110 array define h_4;
#X obj 160 135 array define p_5;
#X obj 20 135 array define h_5;
#X obj 160 160 array define p_6;
#X obj 20 160 array define h_6;
#X obj 160 185 array define p_7;
#X obj 20 185 array define h_7;
#X obj 160 210 array define p_8;
#X obj 20 210 array define h_8;
#X obj 160 235 array define p_9;
#X obj 20 235 array define h_9;
#X obj 160 260 array define p_10;
#X obj 20 260 array define h_10;
#X obj 160 285 array define p_11;
#X obj 20 285 array define h_11;
#X obj 160 310 array define p_12;
#X obj 20 310 array define h_12;
#X obj 160 335 array define p_13;
#X obj 20 335 array define h_13;
#X obj 160 360 array define p_14;
#X obj 20 360 array define h_14;
#X obj 160 385 array define p_15;
#X obj 20 385 array define h_15;
#X obj 160 410 array define p_16;
#X obj 20 410 array define h_16;
#X obj 160 435 array define p_17;
#X obj 20 435 array define h_17;
#X obj 160 460 array define p_18;
#X obj 20 460 array define h_18;
#X obj 160 485 array define p_19;
#X obj 20 485 array define h_19;
#X obj 160 510 array define p_20;
#X obj 20 510 array define h_20;
#X restore 22 667 pd outputs;
#X text 101 662 <-- the audio outputs of the batch decomposition are
stored in arrays in this subpatcher;
#X text 344 10 set the path here to a folder of audio files this shows
an example pointing toward the FluCoMa media exaxmples send the message
to start batch processing!;
#X obj 18 159 text size corpus;
#N canvas 730 215 450 329 counter 0;
#X obj 22 26 inlet;
#X obj 76 27 inlet;
#X obj 33 295 outlet;
#X obj 22 96 f;
#X obj 64 95 + 1;
#X obj 21 129 t f f;
#X obj 148 27 inlet;
#X obj 34 249 f;
#X obj 153 225 outlet;
#X text 126 266 effectively a for loop will keep iterating till it
hits a maximum;
#X msg 76 59 0;
#X obj 130 156 <;
#X obj 130 189 sel 1 0;
#X connect 0 0 3 0;
#X connect 1 0 10 0;
#X connect 3 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 11 0;
#X connect 5 1 7 1;
#X connect 6 0 11 1;
#X connect 7 0 2 0;
#X connect 10 0 3 1;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 12 1 8 0;
#X restore 18 260 pd counter;
#X obj 18 202 t b b f, f 10;
#X obj 85 231 - 1;
#X obj 19 64 t b l b;
#X obj 18 317 text get corpus;
#N canvas 440 1005 364 255 create 0;
#X obj 14 53 file glob;
#X obj 75 86 print FILE_ERROR;
#X msg 48 151 1e+15;
#X obj 14 183 text set corpus;
#X obj 13 211 text define corpus;
#X obj 14 114 t l b, f 10;
#X obj 14 12 inlet;
#X obj 216 86 text delete corpus;
#X msg 216 44 -1;
#X obj 216 11 r \$0-reset;
#X connect 0 0 5 0;
#X connect 0 1 1 0;
#X connect 2 0 3 1;
#X connect 5 0 3 0;
#X connect 5 1 2 0;
#X connect 6 0 0 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X restore 42 119 pd create corpus text;
#X obj 815 322 text get corpus;
#X obj 18 597 fluid.bufhpss -source src -blocking 0;
#X obj 65 93 s \$0-reset;
#X obj 99 202 r \$0-iterate;
#X obj 18 628 s \$0-iterate;
#X text 196 120 fill a text object with the full paths of files in
our corpus, f 62;
#X msg 138 317 Processing corpus item number \$1;
#X msg 390 316 Done!;
#X obj 138 350 print;
#X obj 390 345 print;
#X connect 0 0 27 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 5 0 31 0;
#X connect 6 0 5 0;
#X connect 7 0 11 0;
#X connect 8 0 9 0;
#X connect 8 0 30 0;
#X connect 9 0 11 0;
#X connect 11 0 10 0;
#X connect 11 0 10 1;
#X connect 12 0 11 0;
#X connect 13 0 12 0;
#X connect 13 0 30 0;
#X connect 15 0 14 0;
#X connect 23 0 25 0;
#X connect 24 0 28 0;
#X connect 24 0 36 0;
#X connect 24 1 37 0;
#X connect 25 0 24 0;
#X connect 25 1 24 1;
#X connect 25 2 26 0;
#X connect 26 0 24 2;
#X connect 27 0 23 0;
#X connect 27 1 29 0;
#X connect 27 2 32 0;
#X connect 28 0 2 0;
#X connect 30 0 15 0;
#X connect 31 0 34 0;
#X connect 33 0 24 0;
#X connect 36 0 38 0;
#X connect 37 0 39 0;
